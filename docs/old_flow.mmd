graph TD
    subgraph 数据部分
        A[客户端及服务器端 实时数据处理] --> B(流处理平台 准实时数据处理 Flink);
        A --> C(大数据平台 离线数据处理 Spark);
        B --> D("用户信息(User)")
        B --> E("物品信息(Item)")
        B --> F("场景信息(Context)")
        C --> D;
        C --> E;
        C --> F;
        D --> G(特征工程);
        E --> G;
        F --> G;
        G --> H(Redis 特征库);
    end

    subgraph 模型部分
        I(模型在线训练) --> J(离线评估);
        K(候选物品库) --> L[召回层];
        L --> M[排序层];
        M --> N(推荐物品列表);
        
        subgraph 模型线上Serving
            O(模型Serving)
            P(mleap)
            Q(TensorFlow serving)
        end
        
        L --> O;
        M --> O;
        O --> P;
        O --> Q;
        
        R[模型线上线: 自研、PMML、TF Serving、二次开发] --> N;
    end
    
    subgraph 前端部分
        S[基于HTML+Javascript的前端功能实现] --> N;
    end
    
    subgraph 冷启动策略
        T(冷启动策略)
    end
    
    subgraph 补充策略与算法
        U(补充策略与算法)
    end

    L -- 冷启动策略 --> T;
    M -- 补充策略与算法 --> U;
    
    style H fill:#f9f,stroke:#333,stroke-width:2px;
    style R fill:#ccf,stroke:#333,stroke-width:2px;
    style S fill:#ccf,stroke:#333,stroke-width:2px;
    style N fill:#ccf,stroke:#333,stroke-width:2px;
    style P fill:#ccf,stroke:#333,stroke-width:2px;
    style Q fill:#ccf,stroke:#333,stroke-width:2px;